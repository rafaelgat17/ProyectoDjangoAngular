<div class="bloque-container">
  <h1>Bloque {{ bloqueId }}</h1>
  
  <div class="teoria-section">
    <h2>ğŸ“š TeorÃ­a del Bloque {{ bloqueId }}</h2>
    <p>AquÃ­ irÃ¡ la teorÃ­a correspondiente a este bloque...</p>
    <p>Contenido educativo sobre circuitos electrÃ³nicos.</p>
  </div>

  <div class="ejercicio-section">
    <h2>âš¡ Ejercicio DinÃ¡mico</h2>
    
    <!-- Controles para elegir tamaÃ±o -->
    <div class="controles">
      <div class="control-group">
        <label for="rows">Filas (2-6):</label>
        <input 
          type="number" 
          id="rows" 
          [(ngModel)]="rows" 
          min="2" 
          max="6"
          [disabled]="cargando">
      </div>
      
      <div class="control-group">
        <label for="cols">Columnas (2-6):</label>
        <input 
          type="number" 
          id="cols" 
          [(ngModel)]="cols" 
          min="2" 
          max="6"
          [disabled]="cargando">
      </div>
    </div>
    
    <button (click)="generarEjercicio()" 
            [disabled]="cargando"
            class="btn-generar">
      <span *ngIf="!cargando">ğŸ”§ Generar Ejercicio ({{ rows }}x{{ cols }})</span>
      <span *ngIf="cargando">â³ Generando...</span>
    </button>

    <!-- Mostrar mientras carga -->
    <div *ngIf="cargando" class="loading">
      <div class="spinner"></div>
      <p>Generando circuito {{ rows }}x{{ cols }}...</p>
    </div>

    <!-- Mostrar cuando hay resultado -->
    <div *ngIf="circuitoGenerado && !cargando && circuitoGenerado.success" class="resultado">
      <h3>âœ… {{ circuitoGenerado.mensaje }}</h3>
      
      <div class="circuito-info">
        <p><strong>ğŸ“Š InformaciÃ³n del circuito:</strong></p>
        <ul>
          <li><strong>Dimensiones:</strong> {{ circuitoGenerado.circuito.rows }}x{{ circuitoGenerado.circuito.cols }}</li>
          <li><strong>Nodos:</strong> {{ circuitoGenerado.circuito.num_nodos }}</li>
          <li><strong>Componentes:</strong> {{ circuitoGenerado.circuito.num_componentes }}</li>
        </ul>
      </div>

      <!-- AQUÃ SE MUESTRA LA IMAGEN -->
      <div class="imagen-circuito">
        <h4>ğŸ–¼ï¸ Circuito Generado:</h4>
        <img [src]="circuitoGenerado.circuito.imagen" alt="Circuito elÃ©ctrico">
      </div>
    </div>

    <!-- Mostrar si hay error -->
    <div *ngIf="circuitoGenerado && !circuitoGenerado.success" class="error">
      <h3>âŒ Error</h3>
      <p>{{ circuitoGenerado.mensaje }}</p>
      <p class="error-detail">{{ circuitoGenerado.error }}</p>
    </div>
  </div>
</div>